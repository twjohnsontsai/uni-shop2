{"version":3,"sources":["uni-app:///main.js",null,"webpack:////Users/caijionghui/Desktop/nui-App/uni-shop2/subpkg/goods_list/goods_list.vue?124b","webpack:////Users/caijionghui/Desktop/nui-App/uni-shop2/subpkg/goods_list/goods_list.vue?45cc","webpack:////Users/caijionghui/Desktop/nui-App/uni-shop2/subpkg/goods_list/goods_list.vue?8c29","uni-app:///subpkg/goods_list/goods_list.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,4G,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,mBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;;;AAGzD;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,uLAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAw0B,CAAgB,wyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiB51B;AACA,MADA,kBACA;AACA;AACA;AACA;AACA;AACA,iBAFA;AAGA;AACA,eAJA;AAKA;AACA,kBANA;AAOA;AACA,oBARA,EAFA;;AAYA;AACA;AACA,mBAdA;AAeA;AACA,cAhBA;AAiBA;AACA,sBAlBA;;AAoBA,GAtBA;AAuBA;AACA,QAxBA,kBAwBA,OAxBA,EAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAnCA;AAoCA;AACA;AACA;AACA,gBAHA,wBAGA,EAHA,EAGA;AACA;AACA;AACA;AAHA,yCAIA,4DAJA,6CAIA,GAJA,wBAIA,IAJA;AAKA;AACA;AACA;AACA,2BARA;AASA,uCATA,8DASA,cATA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA,gDAhBA;AAiBA,KApBA;AAqBA;AACA,cAtBA,sBAsBA,KAtBA,EAsBA;AACA;AACA;AACA,sEAFA;;AAIA,KA3BA,EApCA;;AAiEA;AACA,eAlEA,2BAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA5EA;AA6EA;AACA,mBA9EA,+BA8EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAtFA,E","file":"subpkg/goods_list/goods_list.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpkg/goods_list/goods_list.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./goods_list.vue?vue&type=template&id=62032d4c&\"\nvar renderjs\nimport script from \"./goods_list.vue?vue&type=script&lang=js&\"\nexport * from \"./goods_list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpkg/goods_list/goods_list.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods_list.vue?vue&type=template&id=62032d4c&\"","var components\ntry {\n  components = {\n    myGoods: function() {\n      return import(\n        /* webpackChunkName: \"components/my-goods/my-goods\" */ \"@/components/my-goods/my-goods.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods_list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods_list.vue?vue&type=script&lang=js&\"","<template>\n\t  <view>\n    <view class=\"goods-list\">\n\t\t<!-- 将循环时的 block 组件修改为 view 组件，并绑定 click 点击事件处理函数： -->\n      <!-- <block v-for=\"(goods, i) in goodsList\" :key=\"i\"> -->\n\t  <view v-for=\"(goods, i) in goodsList\" :key=\"i\" @click=\"gotoDetail(goods)\">\n\t\t  <!-- 循环渲染时就可以使用<my-goods></my-goods>通过属性绑定的形式来传递goods的属性 ，他的属性就是我们循环项中的goods（item）项-->\n       <!-- 为 my-goods 组件动态绑定 goods 属性的值 -->\n\t   <my-goods :goods='goods'></my-goods>\n\t   <!-- 经过封装的程序也能够将商品页面成功的显示出来 -->\n      <!-- </block> -->\n\t  </view>\n    </view>\n  </view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t // 請求參數對象,從API來的項目\n\t\t\t\t  queryObj: {\n\t\t\t\t\t // 產品關鍵詞\n\t\t\t\t\tquery: '',\n\t\t\t\t\t // 產品分類\n\t\t\t\t\tcid: '',\n\t\t\t\t\t // 頁碼值\n\t\t\t\t\t pagenum: 1,\n\t\t\t\t\t // 每頁顯示多少條數據\n\t\t\t\t\t pagesize: 10,\n\t\t\t\t },\n\t\t\t\t // 获取商品列表的数据\n\t\t\t\t  // 声明商品列表的数据为\n\t\t\t\t goodsList : [],\n\t\t\t\t // 声明商品总数量为\n\t\t\t\t total : 0,\n\t\t\t\t// 声明默认截流阀是关闭的状态\n\t\t\t\t isloading:false\n\t\t\t}\n\t\t},\n\t\t// 頁面跳轉時可以透過onLoad(option)接收\n\t\tonLoad(options){\n\t\t\t// console.log(options);\n\t\t\t// 按下首页的关键词选项或是页面开启设置默认的分类，将携带的参数options.(query,cid)转存到queryObj上\n\t\t\tthis.queryObj.query = options.query || ''\n\t\t\t // ||或\n\t\t\t// 赋值给this.queryObj.query,如果没有query值就赋予空数值,避免进入默认值undefine(产生错误)\n\t\t\tthis.queryObj.cid = options.cid || ''\n\t\t\tconsole.log(this.queryObj);\n\t\t\t// 获取商品列表的数bkeqo1据\n\t\t\t// 调用获取商品数据的方法\n\t\t\tthis.getGoodsList()\n\t\t},\n\t\tmethods:{\n\t\t\t// 获取商品列表的数据\n\t\t\t// 定义获取商品数据的方法\n\t\t\t async getGoodsList(cb) {\n\t\t\t\t // 发起请求之前开始节流阀\n\t\t\t\t this.isloading = true\n\t\t\t\t// 发起请求,还有请求的参数 queryObj，然后用async～await来优化这个异步请求（返回值是个对象{data:重命名为res}\n\t\t\t\tconst { data: res } = await uni.$http.get('/api/public/v1/goods/search', this.queryObj)\n\t\t\t\t// 当完成请求后,关闭截流阀\n\t\t\t\tthis.isloading = false\n\t\t\t\t// 3、如果cb的值存在,就进行调用(短路运算符)关闭下拉刷新（已经刷新过了cb信号）\n\t\t\t\tcb && cb()\n\t\t\t\tif (res.meta.status !== 200) return uni.$showMsg()\n\t\t\t\t// 改造 methods 中的 getGoodsList 函数，当列表数据请求成功之后，进行新旧数据的拼接处理：\n\t\t\t\t// 展开新数据...this.goodsList,...res.message.goods 完成新旧数据的拼接\n\t\t\t\tthis.goodsList = [ ...this.goodsList, ...res.message.goods]\n\t\t\t\t// this.goodsList = res.message.goods\n\t\t\t\t// console.log(this.goodsList); \n\t\t\t\t// console.log(res);\n\t\t\t\tthis.total = res.message.total\n\t\t\t},\n\t\t\t// 点击跳转到商品详情页面\n\t\t\tgotoDetail(goods){\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\t// 用？id形态把id传参过去就可以了,注意？不要留空格\n\t\t\t\t\turl:'../goods_detail/goods_detail?goods_id=' + goods.goods_id\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t// 触底的事件\n\t\tonReachBottom(){\n\t\t\t  // 判断是否还有下一页数据（注意大于等于的符号写法，大小于在前，等于在后）\n\t\t\t if (this.queryObj.pagenum * this.queryObj.pagesize >= this.total) return uni.$showMsg('数据加载完毕！')\n\t\t\t// 判断isloading的状态,如果是true就退出(判断是否正在请求其它数据，如果是，则不发起额外的请求)\n\t\t\tif (this.isloading) return\n\t\t\t// 让页码自增+1\n\t\t\tthis.queryObj.pagenum += 1\n\t\t\t// 重新获取列表数据\n\t\t\tthis.getGoodsList()\n\t\t\t// 改造 methods 中的 getGoodsList 函数，当列表数据请求成功之后，进行新旧数据的拼接处理：\n\t\t},\n\t\t// 监听页面的onPullDownRefresh事件的处理函数（下拉刷新\n\t\tonPullDownRefresh(){\n\t\t\t// 1、重置关键数据\n\t\t\tthis.queryObj.pagnum = 1\n\t\t\tthis.total = 0\n\t\t\tthis.isloading = false\n\t\t\tthis.goodsList = []\n\t\t\t// 2、重新发起网络数据请求,并传进一个回调函数（cb)在getGoodsList()，且调用uni.stopPullDownRefresh()关闭下拉刷新\n\t\t\tthis.getGoodsList(()=>uni.stopPullDownRefresh())\n\t\t}\n\t}\n</script>\n \n<style lang=\"scss\">\n\n</style>\n"],"sourceRoot":""}